<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-schema.validation documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-schema 0.8.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="clj-schema.fixtures.html"><span>clj-schema.fixtures</span></a></li><li><a href="clj-schema.schema.html"><span>clj-schema.schema</span></a></li><li><a href="clj-schema.simple-schemas.html"><span>clj-schema.simple-schemas</span></a></li><li class="current"><a href="clj-schema.validation.html"><span>clj-schema.validation</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="clj-schema.validation.html#var-ErrorReporter"><span>ErrorReporter</span></a></li><li><a href="clj-schema.validation.html#var-constraint-error"><span>constraint-error</span></a></li><li><a href="clj-schema.validation.html#var-extraneous-path-error"><span>extraneous-path-error</span></a></li><li><a href="clj-schema.validation.html#var-instance-of-fail-error"><span>instance-of-fail-error</span></a></li><li><a href="clj-schema.validation.html#var-missing-path-error"><span>missing-path-error</span></a></li><li><a href="clj-schema.validation.html#var-predicate-fail-error"><span>predicate-fail-error</span></a></li><li><a href="clj-schema.validation.html#var-valid%3F"><span>valid?</span></a></li><li><a href="clj-schema.validation.html#var-validate-and-handle"><span>validate-and-handle</span></a></li><li><a href="clj-schema.validation.html#var-validation-errors"><span>validation-errors</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>clj-schema.validation documentation</h2><pre class="doc"></pre><div class="public" id="var-ErrorReporter"><h3>ErrorReporter</h3><div class="usage"></div><pre class="doc">Factory functions to generate each type of validation error.

First arg 'state' is a map with 4 keys:
  :data-under-validation - the data being validated
  :schema - the schema being used to validate
  :parent-path - the path if any to the current map, from a map that contained this one
  :full-path - the full path in a nested map structure
  :all-wildcard-paths - any path that includes a wildcard
  :schema-without-wildcard-paths - a version of the schema with wildcard paths removed</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/validation.clj#L7">Source</a></div></div><div class="public" id="var-constraint-error"><h3>constraint-error</h3><div class="usage"><code>(constraint-error this state constraint)</code></div><pre class="doc">Caused by a constraint predicate failing against the entire data structure or value
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/#L">Source</a></div></div><div class="public" id="var-extraneous-path-error"><h3>extraneous-path-error</h3><div class="usage"><code>(extraneous-path-error this state xtra-path)</code></div><pre class="doc">Caused by finding a path that doesn't exist in the schema.  This only applies to schemas that are not loose
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/#L">Source</a></div></div><div class="public" id="var-instance-of-fail-error"><h3>instance-of-fail-error</h3><div class="usage"><code>(instance-of-fail-error this state val-at-path expected-class)</code></div><pre class="doc">Caused by the value not being the expected Class, and not being a subtype of the expected Class
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/#L">Source</a></div></div><div class="public" id="var-missing-path-error"><h3>missing-path-error</h3><div class="usage"><code>(missing-path-error this state missing-path)</code></div><pre class="doc">Caused by not finding a path mentioned in the schema
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/#L">Source</a></div></div><div class="public" id="var-predicate-fail-error"><h3>predicate-fail-error</h3><div class="usage"><code>(predicate-fail-error this state val-at-path pred)</code></div><pre class="doc">Caused by a predicate schema returning false or nil
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/#L">Source</a></div></div><div class="public" id="var-valid%3F"><h3>valid?</h3><div class="usage"><code>(valid? schema m)</code></div><pre class="doc">Returns true if calling `validation-errors` would return no errors
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/validation.clj#L259">Source</a></div></div><div class="public" id="var-validate-and-handle"><h3>validate-and-handle</h3><div class="usage"><code>(validate-and-handle error-reporter m schema success-handler-fn error-handler-fn)</code><code>(validate-and-handle m schema success-handler-fn error-handler-fn)</code></div><pre class="doc">Validates item x against a schema.
If it passes, then calls success-handler-fn passing m to it.
If it fails, then calls error-handler-fn passing m and any validation errors to it.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/validation.clj#L264">Source</a></div></div><div class="public" id="var-validation-errors"><h3>validation-errors</h3><div class="usage"><code>(validation-errors schema x)</code><code>(validation-errors error-reporter schema x)</code><code>(validation-errors error-reporter parent-path schema x)</code></div><pre class="doc">Returns a set of all the validation errors found when comparing a given
item x, against the supplied schema.
If schema is not already a schema, it will attempt to make a simple schema from it.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/validation.clj#L239">Source</a></div></div></div></body></html>