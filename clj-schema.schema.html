<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-schema.schema documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-schema 0.8.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="clj-schema.fixtures.html"><span>clj-schema.fixtures</span></a></li><li class="current"><a href="clj-schema.schema.html"><span>clj-schema.schema</span></a></li><li><a href="clj-schema.simple-schemas.html"><span>clj-schema.simple-schemas</span></a></li><li><a href="clj-schema.validation.html"><span>clj-schema.validation</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="clj-schema.schema.html#var-and-statement-schema"><span>and-statement-schema</span></a></li><li><a href="clj-schema.schema.html#var-class-schema"><span>class-schema</span></a></li><li><a href="clj-schema.schema.html#var-constraints"><span>constraints</span></a></li><li><a href="clj-schema.schema.html#var-def-map-schema"><span>def-map-schema</span></a></li><li><a href="clj-schema.schema.html#var-def-seq-schema"><span>def-seq-schema</span></a></li><li><a href="clj-schema.schema.html#var-def-set-schema"><span>def-set-schema</span></a></li><li><a href="clj-schema.schema.html#var-def-simple-schema"><span>def-simple-schema</span></a></li><li><a href="clj-schema.schema.html#var-filter-schema"><span>filter-schema</span></a></li><li><a href="clj-schema.schema.html#var-loose-schema%3F"><span>loose-schema?</span></a></li><li><a href="clj-schema.schema.html#var-map-schema"><span>map-schema</span></a></li><li><a href="clj-schema.schema.html#var-ns-%3Eschemas"><span>ns-&gt;schemas</span></a></li><li><a href="clj-schema.schema.html#var-optional-path"><span>optional-path</span></a></li><li><a href="clj-schema.schema.html#var-optional-path-set"><span>optional-path-set</span></a></li><li><a href="clj-schema.schema.html#var-optional-path%3F"><span>optional-path?</span></a></li><li><a href="clj-schema.schema.html#var-or-statement-schema"><span>or-statement-schema</span></a></li><li><a href="clj-schema.schema.html#var-predicate-schema"><span>predicate-schema</span></a></li><li><a href="clj-schema.schema.html#var-scaffold-schema"><span>scaffold-schema</span></a></li><li><a href="clj-schema.schema.html#var-schema-path-set"><span>schema-path-set</span></a></li><li><a href="clj-schema.schema.html#var-schema-rows"><span>schema-rows</span></a></li><li><a href="clj-schema.schema.html#var-schema%3F"><span>schema?</span></a></li><li><a href="clj-schema.schema.html#var-select-schema-keys"><span>select-schema-keys</span></a></li><li><a href="clj-schema.schema.html#var-seq-schema"><span>seq-schema</span></a></li><li><a href="clj-schema.schema.html#var-sequence-of"><span>sequence-of</span></a></li><li><a href="clj-schema.schema.html#var-set-of"><span>set-of</span></a></li><li><a href="clj-schema.schema.html#var-set-schema"><span>set-schema</span></a></li><li><a href="clj-schema.schema.html#var-simple-schema"><span>simple-schema</span></a></li><li><a href="clj-schema.schema.html#var-strict-schema%3F"><span>strict-schema?</span></a></li><li><a href="clj-schema.schema.html#var-subtract-paths"><span>subtract-paths</span></a></li><li><a href="clj-schema.schema.html#var-subtract-wildcard-paths"><span>subtract-wildcard-paths</span></a></li><li><a href="clj-schema.schema.html#var-wild"><span>wild</span></a></li><li><a href="clj-schema.schema.html#var-wildcard-path-set"><span>wildcard-path-set</span></a></li><li><a href="clj-schema.schema.html#var-wildcard-path%3F"><span>wildcard-path?</span></a></li><li><a href="clj-schema.schema.html#var-wildcard%3F"><span>wildcard?</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>clj-schema.schema documentation</h2><pre class="doc">Define schemas for validating maps, sequences, sets or any
arbitrary data structures or values.</pre><div class="public" id="var-and-statement-schema"><h3>and-statement-schema</h3><div class="usage"><code>(and-statement-schema and-statement)</code></div><pre class="doc">Creates a schema that states the item should match
ALL of the supplied schemas.
Can be used for any arbitrary data structure or value.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L73">Source</a></div></div><div class="public" id="var-class-schema"><h3>class-schema</h3><div class="usage"><code>(class-schema clazz)</code></div><pre class="doc">Creates a schema that states the item should be
an instance of the supplied Class.
Can be used for any arbitrary data structure or value.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L55">Source</a></div></div><div class="public" id="var-constraints"><h3>constraints</h3><h4 class="macro">macro</h4><div class="usage"><code>(constraints &amp; sub-schema-sexps)</code></div><pre class="doc">Wrap a group of sub-schemas, so that they can be tested against
the entire data structure in a surrounding schema.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L126">Source</a></div></div><div class="public" id="var-def-map-schema"><h3>def-map-schema</h3><h4 class="macro">macro</h4><div class="usage"><code>(def-map-schema name &amp; constraints-and-schema-vectors)</code><code>(def-map-schema looseness name &amp; constraints-and-schema-vectors)</code></div><pre class="doc">Creates a named var for a map-schema, defaults to being strict.  Can also be
made loose by passing in :loose as the first parameter.  See `map-schema` for more details.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L158">Source</a></div></div><div class="public" id="var-def-seq-schema"><h3>def-seq-schema</h3><h4 class="macro">macro</h4><div class="usage"><code>(def-seq-schema name &amp; constraints-and-schema-specs)</code><code>(def-seq-schema all-or-layout name &amp; constraints-and-schema-specs)</code></div><pre class="doc">Creates a named var for a seq-schema. See `seq-schema` for more details.
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L194">Source</a></div></div><div class="public" id="var-def-set-schema"><h3>def-set-schema</h3><h4 class="macro">macro</h4><div class="usage"><code>(def-set-schema name &amp; constraints-and-schema-specs)</code></div><pre class="doc">Creates a named var for a set-schema. See `set-schema` for more details.
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L218">Source</a></div></div><div class="public" id="var-def-simple-schema"><h3>def-simple-schema</h3><h4 class="macro">macro</h4><div class="usage"><code>(def-simple-schema name x)</code></div><pre class="doc">Creates a named var for a simple-schema.  See `simple-schema` for more details.
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L109">Source</a></div></div><div class="public" id="var-filter-schema"><h3>filter-schema</h3><div class="usage"><code>(filter-schema pred schema)</code></div><pre class="doc">Only makes sense to call on a map-schema.
Takes a pred like (fn [[path schema]] ...) and selects all schema rows that match.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L280">Source</a></div></div><div class="public" id="var-loose-schema%3F"><h3>loose-schema?</h3><div class="usage"><code>(loose-schema? x)</code></div><pre class="doc">Only makes sense to call on a map-schema.
   Returns whether a schema is loose.  A loose schema allows the
map under-validation to have more keys than are specified in the schema.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L26">Source</a></div></div><div class="public" id="var-map-schema"><h3>map-schema</h3><div class="usage"><code>(map-schema looseness &amp; constraints-and-schema-vectors)</code></div><pre class="doc">Creates a schema for a map. looseness is either :loose or :strict. If :strict
then, any keys not mentioned in the schema-spec will be errors.
Can be supplied other schemas which it will addd behavior to..
Accepts constraints that are applied to the whole map.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L136">Source</a></div></div><div class="public" id="var-ns-%3Eschemas"><h3>ns-&gt;schemas</h3><div class="usage"><code>(ns-&gt;schemas the-ns)</code></div><pre class="doc">All schemas in a namespace
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L313">Source</a></div></div><div class="public" id="var-optional-path"><h3>optional-path</h3><div class="usage"><code>(optional-path schema-path)</code></div><pre class="doc">Takes a schema path and morphs it into a path that is optional.
Optional paths may or may not be present on the validated map, but
if they are present they must be valid against the given schema.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L260">Source</a></div></div><div class="public" id="var-optional-path-set"><h3>optional-path-set</h3><div class="usage"><code>(optional-path-set schema)</code></div><pre class="doc">Set of all optional-paths in a schema
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L272">Source</a></div></div><div class="public" id="var-optional-path%3F"><h3>optional-path?</h3><div class="usage"><code>(optional-path? schema-path)</code></div><pre class="doc">Returns whether or not a path is an optional-path
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L267">Source</a></div></div><div class="public" id="var-or-statement-schema"><h3>or-statement-schema</h3><div class="usage"><code>(or-statement-schema schemas)</code></div><pre class="doc">Creates a schema that states the item should match
at least one of the supplied schemas.
Can be used for any arbitrary data structure or value.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L64">Source</a></div></div><div class="public" id="var-predicate-schema"><h3>predicate-schema</h3><div class="usage"><code>(predicate-schema pred)</code></div><pre class="doc">Creates a schema that states the item should match
the supplied predicate.
Can be used for any arbitrary data structure or value.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L82">Source</a></div></div><div class="public" id="var-scaffold-schema"><h3>scaffold-schema</h3><div class="usage"><code>(scaffold-schema schema-name x)</code></div><pre class="doc">Makes a simple scaffolding schema from a given map, sequence or set.
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L321">Source</a></div></div><div class="public" id="var-schema-path-set"><h3>schema-path-set</h3><div class="usage"><code>(schema-path-set schema)</code></div><pre class="doc">Only makes sense to call on a map-schema.
Returns the set of all paths in the schema.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L42">Source</a></div></div><div class="public" id="var-schema-rows"><h3>schema-rows</h3><div class="usage"><code>(schema-rows schema)</code></div><pre class="doc">Only makes sense to call on a map-schema.
Returns a sequence of pairs, where the first element is the
path and the second element is the schema that applies to that path.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L35">Source</a></div></div><div class="public" id="var-schema%3F"><h3>schema?</h3><div class="usage"><code>(schema? x)</code></div><pre class="doc">Returns whether x is a schema
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L10">Source</a></div></div><div class="public" id="var-select-schema-keys"><h3>select-schema-keys</h3><div class="usage"><code>(select-schema-keys schema &amp; ks)</code></div><pre class="doc">Only makes sense to call on a map-schema.
Returns a new schema with only the paths starting with the specified keys.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L296">Source</a></div></div><div class="public" id="var-seq-schema"><h3>seq-schema</h3><div class="usage"><code>(seq-schema all-or-layout &amp; constraints-and-schema-specs)</code></div><pre class="doc">Creates a schema for a sequence. Every element of the sequence should match
the given schema.
First argument is either :all or :layout, and indicates whether to apply the
given schema to all members of the sequence, or to treat the supplied vector as
a layout to check the sequence against.
Accepts constraints that are applied to the whole sequence.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L171">Source</a></div></div><div class="public" id="var-sequence-of"><h3>sequence-of</h3><div class="usage"><code>(sequence-of schema)</code></div><pre class="doc">Wraps a schema to make it a schema that apply to every element of a sequential
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L224">Source</a></div></div><div class="public" id="var-set-of"><h3>set-of</h3><div class="usage"></div><pre class="doc">Wraps a schema to make it a schema that apply to every element of a set
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L229">Source</a></div></div><div class="public" id="var-set-schema"><h3>set-schema</h3><div class="usage"><code>(set-schema &amp; constraints-and-schema-specs)</code></div><pre class="doc">Creates a schema for a set. Every element of the set should match
the given schema.
Accepts constraints that are applied to the whole sequence.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L206">Source</a></div></div><div class="public" id="var-simple-schema"><h3>simple-schema</h3><div class="usage"><code>(simple-schema x)</code></div><pre class="doc">Makes a simple schema from x.
If x is a Class, makes a class-schema.
If x looks like [:or x y], makes an or-statement-schema.
If x looks like [x y], makes an and-statement-schema.
Otherwise, makes a predicate schema.

Can be used for any arbitrary data structure or value.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L91">Source</a></div></div><div class="public" id="var-strict-schema%3F"><h3>strict-schema?</h3><div class="usage"><code>(strict-schema? x)</code></div><pre class="doc">Only makes sense to call on a map-schema.
   Returns whether a schema is strict.  A strict schema necessitates that
the map under-validation has all the paths listed in the schema and no extra paths</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L17">Source</a></div></div><div class="public" id="var-subtract-paths"><h3>subtract-paths</h3><div class="usage"><code>(subtract-paths schema &amp; paths)</code></div><pre class="doc">Only makes sense to call on a map-schema.
Returns a new schema minus some paths.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L289">Source</a></div></div><div class="public" id="var-subtract-wildcard-paths"><h3>subtract-wildcard-paths</h3><div class="usage"><code>(subtract-wildcard-paths schema)</code></div><pre class="doc">Only makes sense to call on a map-schema..
Returns a schema that is the same in all respects, except it has none of the wildcard paths.</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L303">Source</a></div></div><div class="public" id="var-wild"><h3>wild</h3><div class="usage"><code>(wild schema)</code></div><pre class="doc">Wraps a schema or simple-schema to be used within a map-schema path as a wildcard.
Ex. [:a (wild Integer) (wild String)], matches all paths like [:a 1 &quot;product-1&quot;] or [:a 42 &quot;product-2&quot;]</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L240">Source</a></div></div><div class="public" id="var-wildcard-path-set"><h3>wildcard-path-set</h3><div class="usage"><code>(wildcard-path-set schema)</code></div><pre class="doc">Return the set of all wildcard paths in the schema
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L252">Source</a></div></div><div class="public" id="var-wildcard-path%3F"><h3>wildcard-path?</h3><div class="usage"><code>(wildcard-path? schema-path)</code></div><pre class="doc">Returns whether or not a path is a wildcard-path
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L247">Source</a></div></div><div class="public" id="var-wildcard%3F"><h3>wildcard?</h3><div class="usage"><code>(wildcard? x)</code></div><pre class="doc">Returns whether x is a wilcard
</pre><div class="src-link"><a href="https://github.com/runa-dev/clj-schema/blob/master/src/clj_schema/schema.clj#L235">Source</a></div></div></div></body></html>